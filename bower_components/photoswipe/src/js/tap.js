var tapTimer,tapReleasePoint={},_dispatchTapEvent=function(t,e,a){var i=document.createEvent("CustomEvent"),n={origEvent:t,target:t.target,releasePoint:e,pointerType:a||"touch"};i.initCustomEvent("pswpTap",!0,!0,n),t.target.dispatchEvent(i)};_registerModule("Tap",{publicMethods:{initTap:function(){_listen("firstTouchStart",self.onTapStart),_listen("touchRelease",self.onTapRelease),_listen("destroy",function(){tapReleasePoint={},tapTimer=null})},onTapStart:function(t){t.length>1&&(clearTimeout(tapTimer),tapTimer=null)},onTapRelease:function(t,e){if(e&&!_moved&&!_isMultitouch&&!_numAnimations){var a=e;if(tapTimer&&(clearTimeout(tapTimer),tapTimer=null,_isNearbyPoints(a,tapReleasePoint)))return void _shout("doubleTap",a);if("mouse"===e.type)return void _dispatchTapEvent(t,e,"mouse");var i=t.target.tagName.toUpperCase();if("BUTTON"===i||framework.hasClass(t.target,"pswp__single-tap"))return void _dispatchTapEvent(t,e);_equalizePoints(tapReleasePoint,a),tapTimer=setTimeout(function(){_dispatchTapEvent(t,e),tapTimer=null},300)}}}});